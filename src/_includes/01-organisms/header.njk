{#
=========================
         HEADER          
=========================
#}

{% from "03-atoms/vector.njk" import renderVector %}
{% from "03-atoms/link.njk" import renderLink %}

{% macro renderHeader(options) %}
  {% if options.datas %}
    {% set globalStyle = options.datas.globalStyle %}
    {% set containerStyle = options.datas.containerStyle %}
    {% set navStyle = options.datas.navStyle %}
    {% set menuContainerStyle = options.datas.menuContainerStyle %}
    {% set toggleButtonStyle = options.datas.variants.toggleButton.default %}
    {% set toggleButtonIcon = options.datas.variants.toggleButton.icon %}
    {% set dropdownMenuStyle = options.datas.variants.dropdownMenu.default %}
    {% set menuListStyle = options.datas.variants.menuList.default %}
    
    {% set headerData = null %}
    {% if options.name %}
      {% for headerSet in options.datas.headers %}
        {% if headerSet.name == options.name %}
          {% set headerData = headerSet %}
        {% endif %}
      {% endfor %}
    {% endif %}

    {% if not headerData %}
      {% set headerData = options.datas.headers[0] %}
    {% endif %}
    
    <header class="{{ globalStyle }} {{ options.class | default('') }}">
      <div class="{{ containerStyle }}">
        <nav class="{{ navStyle }}">
          {# Logo #}
          {{ renderVector({ name: headerData.logo, datas: options.vectors }) }}

          {# Menu #}
          <div class="{{ menuContainerStyle }}">
            <div class="{{ toggleButtonStyle }}">
              <i class="{{ toggleButtonIcon }}"></i>
            </div>

            <div class="{{ dropdownMenuStyle }}">
              <ul role="list" class="{{ menuListStyle }}">
                {% for linkName in headerData.links %}
                  <li>
                    {{ renderLink({ name: linkName, datas: options.links, dataNavLink: true }) }}
                  </li>
                {% endfor %}
              </ul>
            </div>
          </div>
        </nav>
      </div>
    </header>

    {# Include external JS file for burger menu functionality #}
    <script src="/js/organisms/header-menu.js"></script>
  {% else %}
    <span class="text-red-500">Header data not found</span>
  {% endif %}
{% endmacro %}


{#
============================
Summon HAT Components Wisely
============================

1. Import the macro at the top of your page
{% from "02-molecules/header.njk" import renderHeader %}

2. Call the header component with a specific name
{{ renderHeader({ 
    name: "main",
    datas: molecules.headers,
    vectors: atoms.vectors,
    links: atoms.links 
}) }}

3. Using custom styles
{{ renderHeader({ 
    name: "main",
    datas: molecules.headers,
    vectors: atoms.vectors,
    links: atoms.links,
    class: "my-custom-header-class"
}) }}

4. Structure of headers.json explained in file
   Follow similar pattern as breadcrumbs.json

Navigation made easy! ðŸ§­
#}