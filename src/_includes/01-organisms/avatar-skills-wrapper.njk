{# ===========================================================
   @ORGANISMS - AVATAR-SKILLS-WRAPPER
   - Manages avatar/skills layout and interactions
=========================================================== #}

{# Import organisms #}
{% from "01-organisms/avatar-card.njk" import renderAvatarCard %}
{% from "01-organisms/skills-card.njk" import renderSkillsCard %}

{% macro renderAvatarSkillsWrapper(option) %}
  {# Check if required data is provided #}
  {% if not option.avatar_datas or not option.skills_datas %}
    <span class="text-red-500">Error: Missing avatar or skills configuration</span>
  {% else %}
    {# Avatar Skills Wrapper Container - Position relative pour avatar absolu #}
    <div class="avatar-skills-wrapper lg:relative lg:grid lg:grid-cols-2 lg:gap-2 lg:max-w-4xl lg:mx-auto lg:p-2" data-component="avatar-skills-wrapper">
      
      {# Avatar Card - Position absolue au centre, pointer-events d√©sactiv√©s sauf pour les √©l√©ments interactifs #}
      <div class="avatar-skills-avatar lg:absolute lg:top-[53.9%] lg:left-1/2 lg:transform lg:-translate-x-1/2 lg:-translate-y-1/2 lg:z-10 lg:pointer-events-none">
        {{ renderAvatarCard({ 
          name: option.avatar_name or "charlotte_main",
          datas: option.avatar_datas,
          image_datas: option.image_datas,
          typography_datas: option.typography_datas,
          button_datas: option.button_datas,
          tooltip_datas: option.tooltip_datas
        }) }}
      </div>
      
      {# Colonne gauche - Skills Cards #}
      <div class="lg:flex lg:flex-col lg:gap-1 lg:items-center">
        <div id="skills-card-languages" class="skills-card-container hidden md:block">
          {{ renderSkillsCard({ 
            name: "languages_card",
            datas: option.skills_datas,
            typography_datas: option.typography_datas,
            caption_datas: option.caption_datas,
            icon_datas: option.icon_datas,
            tooltip_datas: option.tooltip_datas
          }) }}
        </div>
        
        <div id="skills-card-soft-skills" class="skills-card-container hidden md:block">
          {{ renderSkillsCard({ 
            name: "soft_skills_card",
            datas: option.skills_datas,
            typography_datas: option.typography_datas,
            caption_datas: option.caption_datas,
            icon_datas: option.icon_datas,
            tooltip_datas: option.tooltip_datas
          }) }}
        </div>
      </div>
      
      {# Colonne droite - Skills Cards #}
      <div class="lg:flex lg:flex-col lg:gap-1 lg:items-center">
        <div id="skills-card-hard-skills" class="skills-card-container hidden md:block">
          {{ renderSkillsCard({ 
            name: "hard_skills_card",
            datas: option.skills_datas,
            typography_datas: option.typography_datas,
            caption_datas: option.caption_datas,
            icon_datas: option.icon_datas,
            tooltip_datas: option.tooltip_datas
          }) }}
        </div>
        
        <div id="skills-card-interests" class="skills-card-container hidden md:block">
          {{ renderSkillsCard({ 
            name: "interests_card",
            datas: option.skills_datas,
            typography_datas: option.typography_datas,
            caption_datas: option.caption_datas,
            icon_datas: option.icon_datas,
            tooltip_datas: option.tooltip_datas
          }) }}
        </div>
      </div>
      
    </div>
  {% endif %}
{% endmacro %}

{# ===========================================================
   Summon HAT Components Wisely
-----------------------------------------------------------
1. Import the macro at the top of your page
{% from "01-organisms/avatar-skills-wrapper.njk" import renderAvatarSkillsWrapper %}

2. Call the wrapper with all required data
{{ renderAvatarSkillsWrapper({ 
    avatar_name: "charlotte_main",
    avatar_datas: organisms["avatar-card"]["avatar-cards"],
    skills_datas: organisms["skills-card"]["skills-cards"],
    image_datas: atoms.image.images,
    typography_datas: atoms.typography.texts,
    button_datas: atoms.button.buttons,
    tooltip_datas: atoms.tooltip.tooltips,
    caption_datas: molecules.caption.captions,
    icon_datas: atoms.icon.icons
}) }}

May your bugs be forever exiled to the shadow realm. üßô‚Äç‚ôÇÔ∏è‚ú®
=========================================================== #}