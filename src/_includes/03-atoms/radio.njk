{# ===========================================================
   @ATOMS - RADIO
   - Reusable radio component
=========================================================== #}

{% macro renderRadio(option) %}
  {# Check if datas is provided #}
  {% if not option.datas %}
    <span class="text-red-500">Error: No radio configuration provided</span>
  {% else %}
    {# Retrieve radio configuration #}
    {% set radiosConfig = option.datas %}
    {% set radioName = option.name %}
    
    {# Find the specific radio group by name #}
    {% set radioData = null %}
    {% for radio in radiosConfig %}
      {% if radio.name == radioName %}
        {% set radioData = radio %}
      {% endif %}
    {% endfor %}

    {# Fallback if radio not found #}
    {% if not radioData %}
      <span class="text-red-500">Radio group not found: {{ radioName }}</span>
    {% else %}
      {# Radio group container #}
      <div class="radio-group">
        {# Group label/question #}
        {% if radioData.label %}
          <div class="radio-group-label">
            {{ radioData.label }}
            {% if radioData.required %}<span class="radio-required">*</span>{% endif %}
          </div>
        {% endif %}
        
        {# Grid container for options #}
        <div class="radio-grid">
          {% for radioOption in radioData.options %}
            <label for="{{ radioOption.id }}" class="radio-option">
              <input 
                type="radio"
                id="{{ radioOption.id }}"
                name="{{ radioData.name }}"
                value="{{ radioOption.value }}"
                class="radio-input"
                {% if radioOption.selected %}checked{% endif %}
                {% if radioData.required %}required{% endif %}
                {% if option.disabled %}disabled{% endif %}
              />
              <span class="radio-custom"></span>
              <span class="radio-text">{{ radioOption.text }}</span>
            </label>
          {% endfor %}
        </div>
      </div>
    {% endif %}
  {% endif %}
{% endmacro %}

{# ===========================================================
   Summon HAT Components Wisely
-----------------------------------------------------------
1. Import the macro at the top of your page
{% from "03-atoms/radio.njk" import renderRadio %}

2. Call a specific radio group by its name
{{ renderRadio({ 
    name: "nature_request",
    datas: atoms.radio.radios
}) }}

May your bugs be forever exiled to the shadow realm. üßô‚Äç‚ôÇÔ∏è‚ú®
=========================================================== #}