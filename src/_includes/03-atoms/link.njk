<!-- ========================= -->
<!--          LINK             -->
<!-- ========================= -->

{# {% macro renderLink(links) %}
  {% if links is iterable and links[0] is defined %}
    {% for link in links %}
      <a href="{{ link.href }}" class="typography-label-l link {{ link.style }}">
        {{ link.text }}
      </a><br>
    {% endfor %}
  {% else %}
    <a href="{{ links.href }}" class="typography-label-l link {{ links.style }}">
      {{ links.text }}
    </a>
  {% endif %}
{% endmacro %} #}

{# {%- macro renderLink(link) -%}
    {%- set styles = {
        "default": "text-gray-800 hover:text-gray-600 transition-colors duration-200",
        "primary": "text-blue-600 hover:text-blue-800 underline transition-colors duration-200",
        "secondary": "text-gray-500 hover:text-gray-700 transition-colors duration-200"
    } -%}

    {% if link and link.style in styles %}
        <a href="{{ link.href }}" class="{{ styles[link.style] }}">{{ link.text }}</a>
    {% else %}
        <a href="{{ link.href }}" class="{{ styles.default }}">{{ link.text }}</a>
    {% endif %}
{%- endmacro %} #}

{% macro renderLink(options) %}
  {% set linkData = options.datas.links | selectattr('name', 'equalto', options.name) | first %}
  {% set globalStyle = options.datas.globalStyle %}
  {% set variantStyle = options.datas.variants[linkData.style] %}
  
  {% if linkData %}
    <a 
      href="{{ linkData.href }}" 
      class="{{ globalStyle }} {{ variantStyle }}"
    >
      {{ linkData.text }}
    </a>
  {% else %}
    <span class="text-red-500">Link not found</span>
  {% endif %}
{% endmacro %}


<!-- ============================ -->
<!-- Summon HAT Components Wisely -->
<!-- ============================ -->

<!-- 1. Import the macro at the top of your page -->
{# {% from "03-atoms/link.njk" import renderLink %} #}

<!-- 2. Call a specific link by its ID -->
{# {{ renderLink(atoms.links[0]) }} #}

<!-- 3. Call a specific link by its name -->
{# {% set link_by_name = atoms.links | selectattr('name', 'equalto', 'tavern_quest') | first %} #}
{# {{ renderLink(link_by_name) }} #}

<!-- 4. Adding a new link -->
<!-- Open contents/atoms/links.json and add a new entry following this format: -->
{#
{
  "id": 2, // Must be unique and sequential (e.g., max ID + 1)
  "name": "new_link_name",
  "href": "/your-link",
  "text": "Your Link Text",
  "style": "primary"
}
#}

<!-- May your bugs be forever exiled to the shadow realm. 🧙‍♂️✨ -->
